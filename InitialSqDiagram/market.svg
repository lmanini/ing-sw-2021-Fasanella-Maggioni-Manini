<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="734px" preserveAspectRatio="none" style="width:1067px;height:734px;" version="1.1" viewBox="0 0 1067 734" width="1067px" zoomAndPan="magnify"><defs><filter height="300%" id="fivixj3vzq8jh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="512.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="536.5" y="124.6953"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="153.8281"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="978.5" y="153.8281"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="978.5" y="338.4297"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="587.4609" style="stroke:#000000;stroke-width:2.0;" width="1043.5" x="10" y="86.4297"/><rect fill="#FFFFFF" height="424.6641" style="stroke:none;stroke-width:1.0;" width="1043.5" x="10" y="249.2266"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="337.5938" style="stroke:#000000;stroke-width:2.0;" width="1023.5" x="20" y="271.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="40.2969" y2="690.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="298" x2="298" y1="40.2969" y2="690.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="541" x2="541" y1="40.2969" y2="690.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="688" x2="688" y1="40.2969" y2="690.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="983.5" x2="983.5" y1="40.2969" y2="690.8906"/><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="37" y="24.9951">Client</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="30" y="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="37" y="709.8857">Client</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="266" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="273" y="24.9951">Server</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="266" y="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="273" y="709.8857">Server</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="484" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="491" y="24.9951">GameHandler</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="111" x="484" y="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="491" y="709.8857">GameHandler</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="643" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="650" y="24.9951">Controller</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="643" y="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="650" y="709.8857">Controller</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="933.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="940.5" y="24.9951">GameTable</text><rect fill="#FEFECE" filter="url(#fivixj3vzq8jh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="933.5" y="689.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="940.5" y="709.8857">GameTable</text><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="512.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="536.5" y="124.6953"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="153.8281"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="978.5" y="153.8281"/><rect fill="#FFFFFF" filter="url(#fivixj3vzq8jh)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="978.5" y="338.4297"/><polygon fill="#A80036" points="286.5,67.4297,296.5,71.4297,286.5,75.4297,290.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="292.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="67.5" y="66.3638">UseMarket()</text><path d="M10,86.4297 L76,86.4297 L76,93.4297 L66,103.4297 L10,103.4297 L10,86.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="587.4609" style="stroke:#000000;stroke-width:2.0;" width="1043.5" x="10" y="86.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="25" y="99.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="172" x="91" y="98.6401">[tryAddMarbles() == true]</text><polygon fill="#A80036" points="524.5,120.6953,534.5,124.6953,524.5,128.6953,528.5,124.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298.5" x2="530.5" y1="124.6953" y2="124.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="305.5" y="119.6294">??()</text><polygon fill="#A80036" points="671.5,149.8281,681.5,153.8281,671.5,157.8281,675.5,153.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="546.5" x2="677.5" y1="153.8281" y2="153.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="553.5" y="148.7622">??()</text><polygon fill="#A80036" points="966.5,178.9609,976.5,182.9609,966.5,186.9609,970.5,182.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="972.5" y1="182.9609" y2="182.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="700.5" y="177.895">tryAddMarbles()</text><polygon fill="#A80036" points="704.5,208.0938,694.5,212.0938,704.5,216.0938,700.5,212.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="698.5" x2="982.5" y1="212.0938" y2="212.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="710.5" y="207.0278">true</text><polygon fill="#A80036" points="557.5,237.2266,547.5,241.2266,557.5,245.2266,553.5,241.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="551.5" x2="687.5" y1="241.2266" y2="241.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="563.5" y="236.1606">true</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1053.5" y1="250.2266" y2="250.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="125" x="15" y="260.437">[tryAdd() == false]</text><path d="M20,271.0313 L98,271.0313 L98,278.0313 L88,288.0313 L20,288.0313 L20,271.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="337.5938" style="stroke:#000000;stroke-width:2.0;" width="1023.5" x="20" y="271.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="35" y="284.0981">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="155" x="113" y="283.2417">[until tryAdd() == true]</text><polygon fill="#A80036" points="524.5,305.2969,534.5,309.2969,524.5,313.2969,528.5,309.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298.5" x2="530.5" y1="309.2969" y2="309.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="305.5" y="304.231">??()</text><polygon fill="#A80036" points="676.5,334.4297,686.5,338.4297,676.5,342.4297,680.5,338.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="546.5" x2="682.5" y1="338.4297" y2="338.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="553.5" y="333.3638">??()</text><polygon fill="#A80036" points="966.5,363.5625,976.5,367.5625,966.5,371.5625,970.5,367.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="688.5" x2="972.5" y1="367.5625" y2="367.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="695.5" y="362.4966">tryAddMarbles()</text><polygon fill="#A80036" points="699.5,392.6953,689.5,396.6953,699.5,400.6953,695.5,396.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="982.5" y1="396.6953" y2="396.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="705.5" y="391.6294">false</text><polygon fill="#A80036" points="557.5,421.8281,547.5,425.8281,557.5,429.8281,553.5,425.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="551.5" x2="687.5" y1="425.8281" y2="425.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="563.5" y="420.7622">false</text><polygon fill="#A80036" points="309.5,450.9609,299.5,454.9609,309.5,458.9609,305.5,454.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="303.5" x2="535.5" y1="454.9609" y2="454.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="315.5" y="449.895">RequestDiscardResourceMarket()</text><polygon fill="#A80036" points="71.5,480.0938,61.5,484.0938,71.5,488.0938,67.5,484.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="297.5" y1="484.0938" y2="484.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="77.5" y="479.0278">RequestDiscardResourceMarket()</text><polygon fill="#A80036" points="286.5,509.2266,296.5,513.2266,286.5,517.2266,290.5,513.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="292.5" y1="513.2266" y2="513.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="67.5" y="508.1606">DiscardResourceMarket()</text><polygon fill="#A80036" points="524.5,538.3594,534.5,542.3594,524.5,546.3594,528.5,542.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298.5" x2="530.5" y1="542.3594" y2="542.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="305.5" y="537.2935">DiscardResource()</text><polygon fill="#A80036" points="676.5,567.4922,686.5,571.4922,676.5,575.4922,680.5,571.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="546.5" x2="682.5" y1="571.4922" y2="571.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="553.5" y="566.4263">DiscardResource()</text><polygon fill="#A80036" points="971.5,596.625,981.5,600.625,971.5,604.625,975.5,600.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="688.5" x2="977.5" y1="600.625" y2="600.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="695.5" y="595.5591">DiscardResourceFromTemporaryDeposit()</text><polygon fill="#A80036" points="309.5,632.7578,299.5,636.7578,309.5,640.7578,305.5,636.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="303.5" x2="540.5" y1="636.7578" y2="636.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="315.5" y="631.6919">AnswerUseMarket()</text><polygon fill="#A80036" points="71.5,661.8906,61.5,665.8906,71.5,669.8906,67.5,665.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65.5" x2="297.5" y1="665.8906" y2="665.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="77.5" y="660.8247">AnswerUseMarket()</text><!--MD5=[f6785c249fb3b74847318c4efec10026]
@startuml
Client-> Server: UseMarket()


alt tryAddMarbles() == true
            Server-> GameHandler: ??()
             activate GameHandler

            GameHandler-> Controller: ??()
            activate Controller 
activate GameTable
            Controller-> GameTable: tryAddMarbles()
            Controller<- GameTable: true
           deactivate GameTable
      
            Controller -> GameHandler: true
deactivate Controller
            

else tryAdd() == false
        loop until tryAdd() == true
Server-> GameHandler: ??()


            GameHandler-> Controller: ??()

activate GameTable
            Controller-> GameTable: tryAddMarbles()
            Controller<- GameTable: false
deactivate GameTable           
      
            Controller -> GameHandler: false

GameHandler->Server: RequestDiscardResourceMarket()
            Client<- Server: RequestDiscardResourceMarket()

            Client-> Server: DiscardResourceMarket()

            Server-> GameHandler: DiscardResource()


            GameHandler-> Controller: DiscardResource()


            Controller-> GameTable: DiscardResourceFromTemporaryDeposit()



        end
            Server<- - GameHandler: AnswerUseMarket()
           
             deactivate GameHandler

            Client<- - Server: AnswerUseMarket() 


end
@enduml

PlantUML version 1.2021.6beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>