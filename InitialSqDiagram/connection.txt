@startuml
Client-> Server: Ping()
Client<- Server: Ack()
Client-> Server: SetupConnection()
Client<- Server: ClientAccepted()
alt nickname not available
    Client<- Server: ConnectionError()
end
alt first player

    Client<- Server: RequestPlayersNumber()
alt timeout is not reached
    Client-> Server: PlayersNumber()
else timed out
    Client<- Server: ClientUnregistered()
destroy Client
end
else subsequent players
    Client<- Server: CurrentPlayersAndSlotsLeft()
end
group lobby full

    Client <- Server: GameIsStarting()
    Client <- Server: GameHasStarted()

end