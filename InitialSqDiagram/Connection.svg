<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="578px" preserveAspectRatio="none" style="width:337px;height:578px;" version="1.1" viewBox="0 0 337 578" width="337px" zoomAndPan="magnify"><defs><filter height="300%" id="f2cdsqhwddiak" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f2cdsqhwddiak)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="293" x="20" y="173.8281"/><rect fill="#FFFFFF" filter="url(#f2cdsqhwddiak)" height="194.4063" style="stroke:#000000;stroke-width:2.0;" width="313" x="10" y="234.0938"/><rect fill="#FFFFFF" filter="url(#f2cdsqhwddiak)" height="90.2031" style="stroke:#000000;stroke-width:2.0;" width="293" x="20" y="287.3594"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="293" x="20" y="333.625"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="313" x="10" y="384.5625"/><rect fill="#FFFFFF" filter="url(#f2cdsqhwddiak)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="293" x="20" y="442.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="40.2969" y2="534.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="270" x2="270" y1="40.2969" y2="534.8984"/><rect fill="#FEFECE" filter="url(#f2cdsqhwddiak)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="37" y="24.9951">Client</text><rect fill="#FEFECE" filter="url(#f2cdsqhwddiak)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="30" y="533.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="37" y="553.8936">Client</text><rect fill="#FEFECE" filter="url(#f2cdsqhwddiak)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="238" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="245" y="24.9951">Server</text><rect fill="#FEFECE" filter="url(#f2cdsqhwddiak)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="238" y="533.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="245" y="553.8936">Server</text><polygon fill="#A80036" points="258.5,67.4297,268.5,71.4297,258.5,75.4297,262.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="264.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="67.5" y="66.3638">Ping()</text><polygon fill="#A80036" points="71.5,96.5625,61.5,100.5625,71.5,104.5625,67.5,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="77.5" y="95.4966">Ack()</text><polygon fill="#A80036" points="258.5,125.6953,268.5,129.6953,258.5,133.6953,262.5,129.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="264.5" y1="129.6953" y2="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="67.5" y="124.6294">SetupConnection()</text><polygon fill="#A80036" points="71.5,154.8281,61.5,158.8281,71.5,162.8281,67.5,158.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="158.8281" y2="158.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="77.5" y="153.7622">ClientAccepted()</text><path d="M20,173.8281 L86,173.8281 L86,180.8281 L76,190.8281 L20,190.8281 L20,173.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="293" x="20" y="173.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="35" y="186.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="101" y="186.0386">[nickname not available]</text><polygon fill="#A80036" points="71.5,208.0938,61.5,212.0938,71.5,216.0938,67.5,212.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="212.0938" y2="212.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="77.5" y="207.0278">ConnectionError()</text><path d="M10,234.0938 L76,234.0938 L76,241.0938 L66,251.0938 L10,251.0938 L10,234.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="194.4063" style="stroke:#000000;stroke-width:2.0;" width="313" x="10" y="234.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="25" y="247.1606">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86" x="91" y="246.3042">[first player]</text><polygon fill="#A80036" points="71.5,268.3594,61.5,272.3594,71.5,276.3594,67.5,272.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="272.3594" y2="272.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="77.5" y="267.2935">RequestPlayersNumber()</text><path d="M20,287.3594 L86,287.3594 L86,294.3594 L76,304.3594 L20,304.3594 L20,287.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:2.0;" width="293" x="20" y="287.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="35" y="300.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165" x="101" y="299.5698">[timeout is not reached]</text><polygon fill="#A80036" points="258.5,321.625,268.5,325.625,258.5,329.625,262.5,325.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="264.5" y1="325.625" y2="325.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="67.5" y="320.5591">PlayersNumber()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="313" y1="334.625" y2="334.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="25" y="344.8354">[timed out]</text><polygon fill="#A80036" points="71.5,365.5625,61.5,369.5625,71.5,373.5625,67.5,369.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="369.5625" y2="369.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="77.5" y="364.4966">ClientUnregistered()</text><line style="stroke:#A80036;stroke-width:2.0;" x1="51.5" x2="69.5" y1="360.5625" y2="378.5625"/><line style="stroke:#A80036;stroke-width:2.0;" x1="51.5" x2="69.5" y1="378.5625" y2="360.5625"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="323" y1="385.5625" y2="385.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="15" y="395.7729">[subsequent players]</text><polygon fill="#A80036" points="71.5,416.5,61.5,420.5,71.5,424.5,67.5,420.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="420.5" y2="420.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="77.5" y="415.4341">CurrentPlayersAndSlotsLeft()</text><path d="M20,442.5 L134,442.5 L134,449.5 L124,459.5 L20,459.5 L20,442.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="293" x="20" y="442.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="69" x="35" y="455.5669">lobby full</text><polygon fill="#A80036" points="71.5,476.7656,61.5,480.7656,71.5,484.7656,67.5,480.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="480.7656" y2="480.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="77.5" y="475.6997">GameIsStarting()</text><polygon fill="#A80036" points="71.5,505.8984,61.5,509.8984,71.5,513.8984,67.5,509.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65.5" x2="269.5" y1="509.8984" y2="509.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="77.5" y="504.8325">GameHasStarted()</text><!--MD5=[a2395ae4d4a714f4a924040bfa875d81]
@startuml
Client-> Server: Ping()

Client<- Server: Ack()
Client-> Server: SetupConnection()
Client<- Server: ClientAccepted()
alt nickname not available
    Client<- Server: ConnectionError()
end
alt first player

    Client<- Server: RequestPlayersNumber()
deactivate Client
alt timeout is not reached
    Client-> Server: PlayersNumber()
else timed out
    Client<- Server: ClientUnregistered()
destroy Client
end
activate Client
else subsequent players
    Client<- Server: CurrentPlayersAndSlotsLeft()
end
group lobby full

    Client <- Server: GameIsStarting()
    Client <- Server: GameHasStarted()

end
@enduml

PlantUML version 1.2021.6beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>